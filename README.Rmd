---
output:
  md_document:
    variant: markdown_github
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE, 
  comment = "#>",
  fig.path = "README-"  
)
```

# janitor
***********************
[![Travis-CI Build Status](https://travis-ci.org/sfirke/janitor.svg?branch=master)](https://travis-ci.org/sfirke/janitor)

janitor helps clean up common dirty data problems.  Its functions are human-readable - think `clean_names()` replacing a half-dozen lines like `setNames(., gsub("[.]+", "_", names(.)))`.

For maximum elegance, use janitor with the `%>%` pipe from [magrittr](https://github.com/smbache/magrittr), available after loading the [dplyr](https://github.com/hadley/dplyr) package.


## Installation

janitor is not yet on CRAN.  Install the development version from GitHub:

```{r, eval = FALSE}
# install.packages("devtools")
install_github("sfirke/janitor")
```

## janitor in action

Start with some dirty data:

```{r, message = FALSE, warning = FALSE}
# load demo packages using the pacman package
if (!require("pacman")) install.packages("pacman"); library(pacman)
p_load(janitor, dplyr, readr)

# read sample dirty data file
starting_df <- read_csv("https://raw.github.com/sfirke/janitor/master/sample/dirty.csv")

# take a look at the messy data
dplyr::glimpse(starting_df)

```

This data.frame is dirty in several ways:

* The 7th column is entirely `NA` values
* There are several `NA` rows left by blank rows used in the layout of the .csv
* Variable names contain spaces and other illegal name characters
* The match date is stored as a serial number.
* Duplicate names will cause dplyr calls to fail:
```{r, error = TRUE}
starting_df %>% mutate(year = 2016)
```


Now clean it with janitor:

```{r}
clean_df <- starting_df %>%
  clean_names %>%
  remove_empty_rows %>%
  remove_empty_cols %>%
  mutate(match_date = excel_numeric_to_date(match_date))

# the data.frame is now clean, with proper names:
glimpse(clean_df)

```

## Overview

The janitor functions are:

* Clean data.frame names with `clean_names()`.

* Remove entirely empty rows with `remove_empty_rows()` and empty columns with `remove_empty_cols()`.

* Convert dates incorrectly stored as serial numbers to Date class with `excel_numeric_to_date()`, e.g., turning `42500` into `"2016-05-10"`.
